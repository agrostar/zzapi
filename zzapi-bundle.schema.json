{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "zzapi is an API testing and documentation tool + vs code extension",
  "$defs": {
    "nvd": {
      "type": "object",
      "required": ["name", "value"],
      "description": "A common name, value, doc element",
      "properties": {
        "name": {
          "type": "string",
          "description": "(key) Name of the element. Any key starting with a . will be ignored. This can be used to temporarily disable an element."
        },
        "value": { "type": "string", "description": "Value of the element" },
        "doc": {
          "type": "string",
          "description": "Documentation, typically in Markdown"
        },
        "encode": {
          "type": "boolean",
          "description": "Whether to URL-encode the value"
        }
      }
    }
  },
  "type": "object",
  "required": ["requests"],
  "additionalProperties": false,
  "properties": {
    "common": {
      "description": "Some properties that are applied to all requests.",
      "type": "object",
      "properties": {
        "baseUrl": {
          "type": "string",
          "description": "baseUrl, if defined, will be prepended to all request URLs"
        },
        "headers": {
          "description": "HTTP Headers to be sent as part of any request",
          "type": "array",
          "items": { "$ref": "#/$defs/nvd" }
        }
      }
    },
    "requests": {
      "type": "array",
      "description": "Each request defines an HTTP request",
      "items": {
        "type": "object",
        "required": ["name", "url", "method"],
        "properties": {
          "name": { "type": "string" },
          "url": { "type": "string" },
          "method": {
            "type": "string",
            "enum": ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
          },
          "headers": {
            "description": "HTTP Headers to be sent as part of the request",
            "type": "array",
            "items": { "$ref": "#/$defs/nvd" }
          },
          "params": {
            "description": "Query string parameters",
            "type": "array",
            "items": { "$ref": "#/$defs/nvd" }
          }
        }
      }
    }
  }
}
